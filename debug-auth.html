<!DOCTYPE html>
<html>
<head>
    <title>Debug Auth</title>
    <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
</head>
<body>
    <button onclick="testAuth()">Test Google Auth</button>
    <div id="result"></div>
    
    <script>
        const supabase = window.supabase.createClient(
            'https://bapqlyvfwxsichlyjxpd.supabase.co',
            'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJhcHFseXZmd3hzaWNobHlqeHBkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDE3MDgyMzIsImV4cCI6MjA1NzI4NDIzMn0.hk2D1tvqIM7id40ajPE9_2xtAIC7_thqQN9m0b_4m5g'
        );
        
        async function testAuth() {
            console.log('Testing Supabase connection...');
            const { data, error } = await supabase.auth.signInWithOAuth({
                provider: 'google',
                options: {
                    redirectTo: window.location.origin + '/auth/callback'
                }
            });
            
            document.getElementById('result').innerHTML = 
                error ? `ERROR: ${error.message}` : 'Redirecting to Google...';
        }
        
        // Check for session on load
        supabase.auth.onAuthStateChange((event, session) => {
            console.log('Auth event:', event, session);
            document.getElementById('result').innerHTML = 
                session ? `LOGGED IN: ${session.user.email}` : 'Not logged in';
        });
    </script>
</body>
</html>